!function(){function e(){var e=document.createElement("div");return e.style.color="white",e.classList.add("point"),e.innerHTML=u[0],e}function n(){var e=document.createElement("div");return e.style.clear="both",e.style.height=0,e}function t(e){var n=u.indexOf(e.innerHTML);"white"==e.style.color?e.style.color="black":n<u.length-1&&(e.innerHTML=u[n+1])}function o(e){e.style.color="white",e.innerHTML="."}function r(e){for(var n="+--MY ART"+new Array(l-7).join("-")+"+\n",t=0;t<e.length;t+=l)n+="|"+e.slice(t,t+l).join("")+"|\n";n+="+"+new Array(l+1).join("-")+"+\n",s.value=s.value+n}var a=document.createElement("style"),c=document.createTextNode("#bbsdraw .canvas{border:1px solid #000;overflow:auto;font-family:monospace;float:left;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}#bbsdraw .point{float:left}#bbsdraw .clearfix{clear:both}#bbsdraw .clear,#bbsdraw .draw,#bbsdraw .erase,#bbsdraw .export{cursor:pointer;font-weight:700;float:left;padding:20px;border:1px solid #000}");a.appendChild(c),document.head.appendChild(a);for(var l=45,s=document.getElementsByName("content")[0],i=!1,d=document.getElementById("canvas"),u=[".",":","+","I","?","Z","$","M"],m=0;30>m;m++){for(var f=0;l>f;f++)d.appendChild(e());d.appendChild(n())}var v=document.getElementsByClassName("point"),p=t;d.addEventListener("mousedown",function(){i=!0}),document.getElementsByClassName("erase")[0].addEventListener("click",function(){p=o}),document.getElementsByClassName("draw")[0].addEventListener("click",function(){p=t}),document.getElementsByClassName("export")[0].addEventListener("click",function(){var e=[],n=[].slice.call(v);n.forEach(function(n){e.push("white"===n.style.color?" ":n.innerHTML)}),r(e)}),document.getElementsByClassName("clear")[0].addEventListener("click",function(){var e=[].slice.call(v);e.forEach(o)}),d.addEventListener("click",function(){p=o}),d.addEventListener("click",function(){p=t}),d.addEventListener("mouseup",function(){i=!1}),d.addEventListener("mouseover",function(e){var n=e.target;"point"===n.className&&i&&p(n)})}();